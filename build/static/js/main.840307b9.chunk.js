(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{187:function(e,t,a){},188:function(e,t,a){},228:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a.n(n),i=a(27),s=a.n(i),o=(a(187),a(88)),l=a(89),d=a(91),m=a(90),g=a(92),c=(a(188),a(54)),u=a(34),h=a(15),p=a.n(h),f=p()("2020-01-11").toDate(),v=[];function X(e,t){var a=e.path;t.path=new Map,Object.keys(a).forEach((function(e){var n=p()(e).toDate(),r=a[e].map((function(e){return{lat:e.lat,lng:e.lng,address:e.address,time:p()(e.time).toDate()}}));t.path.set(n.getTime(),r)}))}var x=function(e){function t(e,a){var n;return Object(o.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e,a))).stepCount=0,n.endTime=new Date,n.requestFrameId=void 0,n.frameTime=0,n.icon=new BMap.Icon("public/dot.png",new BMap.Size(32,32),{imageSize:new BMap.Size(32,32)}),n.state={currentTime:f,currentData:new Set,height:0},n}return Object(g.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){!function(){for(var e=0;e<c.length;e++){var t={};v.push(t);var a=c[e];t.name=a.name,t.age=a.age,t.sex=a.sex,t.address=a.address,t.myParentNCP=a.myParentNCP,t.info=a.info,t.reportTime=p()(a.reportTime).toDate(),X(a,t)}}(),this.update()}},{key:"update",value:function(){var e=this;this.requestFrameId=requestAnimationFrame((function(t){t-e.frameTime>1e3&&(console.log("requestAnimationFrame",t,"xxx"),e.frameTime=t,e.updateNCP(new Date(e.state.currentTime.getTime()+864e5))),e.update()}))}},{key:"componentWillUnmount",value:function(){this.requestFrameId&&cancelAnimationFrame(this.requestFrameId)}},{key:"render",value:function(){var e=[];return this.state.currentData.forEach((function(t){e.push(n.createElement(u.Marker,{position:{lng:t.currentLocation.lng,lat:t.currentLocation.lat},icon:{imageUrl:"/dot.png"}}))})),console.log("render",e.length),n.createElement("div",{style:{height:"100%",width:"100%"}},n.createElement(u.Map,{center:{lng:114,lat:32},zoom:7,style:{height:window.innerHeight}},e,n.createElement(u.NavigationControl,null)),n.createElement("div",{style:{position:"absolute",right:0,top:0,height:"30",justifyContent:"center",display:"flex",width:"100%",alignItems:"flex-start",alignContent:"center"}},p()(this.state.currentTime).format("YYYY-MM-DD HH:mm:ss")))}},{key:"updateNCP",value:function(e){var t=function(e,t){var a=new Array,n=new Date;n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(0,0,0,0),console.log("xx",p()(n).format("YYYY-MM-DD HH:mm:ss")),console.log("xx list x");for(var r=0;r<t.length;r++){console.log("xx list");var i=t[r];if(i.path.has(n.getTime())){console.log("xx path.has(day)");for(var s=i.path.get(n.getTime()),o=0;o<s.length;o++){var l=s[o],d=l.time.getTime(),m=e.getTime();if(m<=d&&m+864e5>d){console.log("xx location.has(time)"),i.currentLocation=l,a.push(i);break}}}}return a}(e,v);console.log("updateNCP",t.length);var a=new Set(this.state.currentData);t.forEach((function(e){a.add(e)})),this.setState({currentData:a,currentTime:e})}}]),t}(n.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},54:function(e){e.exports=JSON.parse('[{"id":"","name":"\u95ebXX","age":22,"sex":-1,"address":"\u6cb3\u5357\u7701\u5546\u4e18\u5e02\u590f\u9091\u53bf\u590f\u9091\u53bf\u4eba\u6c11\u533b\u9662\u611f\u67d3\u79d1\u5185\u4e8c\u79d1","myParentNCP":"","reportTime":"2020-01-27","info":"\u95ebXX\uff0c\u7537\uff0c22\u5c81\uff0c\u95ebXX\u5728\u6b66\u6c49\u5e02\u6c49\u53e3\u7ecf\u8425\u65e9\u9910\u5e97\uff0c\u8ddd\u79bb\u6b66\u6c49\u534e\u5357\u6d77\u9c9c\u5e02\u573a\u7ea66\u516c\u91cc\u300217\u65e5\u95ebXX\u611f\u89c9\u5934\u75db\uff0c\u968f\u540e\u5728\u6b66\u6c49\u6c11\u4e3b\u4e8c\u8857\u67d0\u793e\u533a\u8bca\u6240\u8f93\u6db2\u300218\u65e5\u4e58\u5750\u706b\u8f66\u9014\u4e2d\u51fa\u73b0\u53d1\u70ed\uff0c18\u65f6\u5de6\u53f3\u5230\u5bb6\u540e\u968f\u5373\u5230\u536b\u751f\u5ba4\u5c31\u8bca\uff0c\u4ee5\u611f\u5192\u53d1\u70e7\u4e88\u4ee5\u6297\u75c5\u6bd2\u3001\u6d88\u708e\u7b49\u6ce8\u5c04\u6cbb\u7597\uff1b21\u65e520\u65f6\u5de6\u53f3\u5f00\u8f66\u5230\u590f\u9091\u53bf\u4e2d\u533b\u9662\u5c31\u8bca\uff0c\u672a\u505a\u5176\u4ed6\u6cbb\u7597\u4fbf\u8fd4\u56de\u5bb6\u4e2d\uff1b22\u65e514\u65f6\u5de6\u53f3\u60a3\u8005\u5230\u590f\u9091\u53bf\u4eba\u6c11\u533b\u9662\u611f\u67d3\u79d1\u5185\u4e8c\u79d1\u5c31\u8bca\uff0c\u73b0\u9694\u79bb\u6cbb\u7597\uff0c\u75c5\u60c5\u7a33\u5b9a\u3002\u8be5\u60a3\u8005\u5171\u786e\u8ba4\u5bc6\u5207\u63a5\u89e6\u4eba\u54585\u4eba\uff0c\u73b0\u5c45\u5bb6\u89c2\u5bdf\u3002","path":{"2020-01-17":[{"lat":30.623735,"lng":114.268361,"address":"\u5728\u6b66\u6c49\u5e02\u6c49\u53e3\u7ecf\u8425\u65e9\u9910\u5e97\uff0c\u8ddd\u79bb\u6b66\u6c49\u534e\u5357\u6d77\u9c9c\u5e02\u573a\u7ea66\u516c\u91cc","time":"2020-01-17 00:00:00"},{"lat":30.58088,"lng":114.28555,"address":"\u6b66\u6c49\u6c11\u4e3b\u4e8c\u8857\u67d0\u793e\u533a\u8bca\u6240","time":"2020-01-17 12:00:00"}],"2020-01-18":[{"lat":34.241732,"lng":116.147426,"address":"\u5230\u5bb6\u540e\u968f\u5373\u5230\u536b\u751f\u5ba4\u5c31\u8bca","time":"2020-01-18 18:00:00"}],"2020-01-21":[{"lat":34.240943,"lng":116.154228,"address":"\u590f\u9091\u53bf\u4e2d\u533b\u9662","time":"2020-01-21 20:00:00"}],"2020-01-22":[{"lat":34.246024,"lng":116.150112,"address":"\u590f\u9091\u53bf\u4eba\u6c11\u533b\u9662\u611f\u67d3\u79d1\u5185\u4e8c\u79d1","time":"2020-01-22 14:00:00"}],"2020-01-26":[{"lat":34.246024,"lng":116.150112,"address":"\u590f\u9091\u53bf\u4eba\u6c11\u533b\u9662\u611f\u67d3\u79d1\u5185\u4e8c\u79d1","time":"2020-01-26 00:00:00"}]}},{"id":"","name":"\u5b63XX","age":24,"sex":0,"address":"\u6cb3\u5357\u7701\u5546\u4e18\u5e02\u590f\u9091\u53bf\u7f57\u5e84\u9547","myParentNCP":"","reportTime":"2020-01-27","info":"\u5b63XX\uff0c\u5973\uff0c24\u5c81\uff0c\u5b66\u751f\uff0c\u5bb6\u4f4f\u590f\u9091\u53bf\u7f57\u5e84\u9547\uff0c\u5c31\u8bfb\u4e8e\u6b66\u6c49\u5927\u5b66\uff0c\u4e8e18\u65e5\u4e58\u706b\u8f66\u8fd4\u7a0b\uff0c\u60a3\u8005\u4e8e1\u670819\u65e5\u51fa\u73b0\u53d1\u70ed\u75c7\u72b6\uff0c\u4f34\u5934\u75db\uff0c22\u65e5\u5230\u590f\u9091\u4ec1\u7231\u4f73\u7f8e\u533b\u9662\u5c31\u8bca\uff0c\u540e\u5230\u5e02\u7acb\u533b\u9662\u8fdb\u4e00\u6b65\u68c0\u67e5\uff0c\u4ee5\u65b0\u578b\u51a0\u72b6\u75c5\u6bd2\u611f\u67d3\u80ba\u708e\u7591\u4f3c\u75c5\u4f8b\u6536\u4f4f\u5165\u9662\uff0c\u76ee\u524d\u75c5\u60c5\u7a33\u5b9a\u3002\u8be5\u60a3\u8005\u5171\u786e\u8ba4\u5bc6\u5207\u63a5\u89e6\u4eba\u545820\u4eba\uff0c\u73b0\u5c45\u5bb6\u89c2\u5bdf","path":{"2020-01-18":[{"lat":30.543803,"lng":114.372921,"address":"\u6b66\u6c49\u5927\u5b66","time":"2020-01-18 00:00:00"},{"lat":34.109374,"lng":115.999488,"address":"\u6cb3\u5357\u7701\u5546\u4e18\u5e02\u590f\u9091\u53bf\u7f57\u5e84\u9547","time":"2020-01-18 12:00:00"}],"2020-01-19":[{"lat":34.109374,"lng":115.999488,"address":"\u6cb3\u5357\u7701\u5546\u4e18\u5e02\u590f\u9091\u53bf\u7f57\u5e84\u9547","time":"2020-01-19 00:00:00"}],"2020-01-22":[{"lat":34.10308,"lng":115.969523,"address":"\u590f\u9091\u4ec1\u7231\u4f73\u7f8e\u533b\u9662","time":"2020-01-22 00:00:00"},{"lat":34.355711,"lng":115.671423,"address":"\u5546\u4e18\u5e02\u7acb\u533b\u9662","time":"2020-01-22 12:00:00"}]}},{"id":"","name":"\u51afXX","age":27,"sex":0,"address":"\u6cb3\u5357\u7701\u5546\u4e18\u5e02\u590f\u9091\u53bf\u7f57\u5e84\u9547","myParentNCP":"","reportTime":"2020-01-27","info":" \u51afXX,\uff0c\u5973\uff0c27\u5c81\uff0c\u5728\u6b66\u6c49\u5de5\u4f5c\uff0c1\u670817\u53f7\u4e58\u706b\u8f66\u4ece\u6e56\u5317\u6c49\u53e3\u4e58\u8f66\u5230\u8fbe\u6c11\u6743\u5bb6\u4e2d\uff0c1\u670817\u53f7\u665a\u4e0a\u51fa\u73b0\u6d51\u8eab\u53d1\u51b7\u3001\u54b3\u55fd\u3001\u9f3b\u585e\u3001\u808c\u8089\u9178\u75db\u3001\u773c\u7736\u75db\u7b49\u75c7\u72b6\uff0c\u968f\u81ea\u884c\u670d\u836f\uff0c\u7528\u836f\u540e\u672a\u89c1\u597d\u8f6c\uff0c\u4e8e1\u670818\u65e5\u8bca\u6240\u5c31\u8bca\uff0c\u75c7\u72b6\u52a0\u91cd\u5e76\u51fa\u73b0\u4e4f\u529b\u3001\u80f8\u95f7\u3001\u547c\u5438\u56f0\u96be\u7b49\u75c7\u72b6\uff0c 1\u670823\u65e5\u53bb\u6c11\u6743\u53bf\u4e1c\u533a\u4eba\u6c11\u533b\u9662\u5c31\u8bca\uff0c\u540e\u8f6c\u5165\u6c11\u6743\u4eba\u6c11\u533b\u9662\u8001\u9662\u533a\u53d1\u70ed\u95e8\u8bca\u5c31\u8bca\u3002\u7ecf\u6392\u67e5\u5171\u53d1\u73b0\u5bc6\u5207\u63a5\u89e6\u4eba\u5458\u517121\u4eba\uff0c\u5176\u4e2d\u5bb6\u5ead\u6210\u54585\u4eba\uff0c\u8bca\u6240\u5c31\u8bca\u4eba\u545814\u4eba\uff0c\u533b\u751f\u53ca\u62a4\u58eb2\u4eba\uff0c\u5df2\u91c7\u53d6\u76f8\u5e94\u63aa\u65bd\u9694\u79bb\u89c2\u5bdf\u3002","path":{"2020-01-17":[{"lat":30.625339,"lng":114.260847,"address":"\u6e56\u5317\u6c49\u53e3","time":"2020-01-17 00:00:00"},{"lat":34.655269,"lng":115.15249,"address":"\u6c11\u6743\u5bb6\u4e2d","time":"2020-01-17 12:00:00"}],"2020-01-18":[{"lat":34.655269,"lng":115.15249,"address":"1\u670818\u65e5\u8bca\u6240\u5c31\u8bca","time":"2020-01-18 00:00:00"}],"2020-01-23":[{"lat":34.6489,"lng":115.180926,"address":"\u6c11\u6743\u53bf\u4e1c\u533a\u4eba\u6c11\u533b\u9662","time":"2020-01-23 00:00:00"},{"lat":34.655482,"lng":115.156534,"address":"\u6c11\u6743\u53bf\u4eba\u6c11\u533b\u9662","time":"2020-01-23 12:00:00"}]}},{"id":"","name":"\u53f2XX","age":47,"sex":1,"address":"\u6cb3\u5357\u7701\u5546\u4e18\u5e02\u67d8\u57ce\u53bf\u5b89\u5e73\u9547","myParentNCP":"","reportTime":"2020-01-27","info":"\u53f2XX\uff0c\u7537\uff0c47\u5c81\uff0c\u6c11\u5de5\uff0c\u5bb6\u4f4f\u5546\u4e18\u5e02\u67d8\u57ce\u53bf\u5b89\u5e73\u9547\uff0c\u5728\u6b66\u6c49\u6253\u5de5\uff0c\u4e8e1\u670816\u65e5\u4e58\u706b\u8f66\u8fd4\u7a0b\u3002\u60a3\u8005\u4e8e1\u670820\u65e5\u65e0\u660e\u663e\u8bf1\u56e0\u51fa\u73b0\u53d1\u70ed\uff0c\u4f34\u4e4f\u529b\u3001\u754f\u5bd2\uff0c\u5f53\u65e5\u5728\u5b89\u5e73\u9547\u536b\u751f\u9662\u5c31\u8bca\uff0c\u4e8e21\u65e5\u5230\u67d8\u57ce\u53bf\u4eba\u6c11\u533b\u9662\u5c31\u8bca\uff0c\u533b\u751f\u8be2\u95ee\u5de5\u4f5c\u5730\u70b9\u540e\uff0c\u5efa\u8bae\u5176\u5230\u5e02\u7acb\u533b\u9662\u5c31\u8bca\uff0c21\u65e518\u65f6\u60a3\u8005\u5230\u5e02\u7acb\u533b\u9662\u5c31\u8bca\uff0c\u4ee5\u65b0\u578b\u51a0\u72b6\u75c5\u6bd2\u611f\u67d3\u80ba\u708e\u7591\u4f3c\u75c5\u4f8b\u6536\u4f4f\u5165\u9662\uff0c\u76ee\u524d\u75c5\u60c5\u7a33\u5b9a\u3002\u60a3\u8005\u53d1\u75c5\u540e\u4e0e\u5176\u59bb\u5b50\u30012\u4e2a\u513f\u5b50\u6709\u8fc7\u5bc6\u5207\u63a5\u89e6\uff0c\u5426\u8ba4\u6709\u5176\u4ed6\u5bc6\u5207\u63a5\u89e6\u8005\uff0c\u73b0\u9694\u79bb\u89c2\u5bdf\u3002","path":{"2020-01-16":[{"lat":30.625339,"lng":114.260847,"address":"\u6b66\u6c49","time":"2020-01-16 00:00:00"},{"lat":33.992809,"lng":115.142439,"address":"\u6cb3\u5357\u7701\u5546\u4e18\u5e02\u67d8\u57ce\u53bf\u5b89\u5e73\u9547\u5bb6\u4e2d","time":"2020-01-16 12:00:00"}],"2020-01-20":[{"lat":33.992809,"lng":115.142439,"address":"\u6cb3\u5357\u7701\u5546\u4e18\u5e02\u67d8\u57ce\u53bf\u5b89\u5e73\u9547\u5bb6\u4e2d","time":"2020-01-20 12:00:00"}],"2020-01-21":[{"lat":34.07513,"lng":115.317926,"address":"\u67d8\u57ce\u53bf\u4eba\u6c11\u533b\u9662","time":"2020-01-21 12:00:00"},{"lat":34.355711,"lng":115.671423,"address":"\u5546\u4e18\u5e02\u7acb\u533b\u9662","time":"2020-01-21 18:00:00"}]}},{"id":"","name":"\u5f20XX","age":43,"sex":1,"address":"\u6cb3\u5357\u7701\u5546\u4e18\u5e02\u793a\u8303\u533a\u5e73\u5b89\u8857\u9053\u529e\u4e8b\u5904","myParentNCP":"","reportTime":"2020-01-27","info":"\u5f20XX\uff0c\u7537\uff0c43\u5c81\uff0c\u5bb6\u4f4f\u793a\u8303\u533a\u5e73\u5b89\u8857\u9053\u529e\u4e8b\u5904\uff0c\u592b\u59bb\u4e8c\u4eba\u5728\u6b66\u6c49\u505a\u751f\u610f\uff0c\u4e8e1\u670814\u65e5\u4e24\u4eba\u5750\u9ad8\u94c1\u81f3\u5546\u4e18\u9ad8\u94c1\u7ad9\u4e0b\u8f66\uff0c\u4e58\u5750\u51fa\u79df\u8f66\u5f52\u5bb6\u3002\u60a3\u800520\u65e5\u665a\u4e0a\u51fa\u73b0\u53d1\u70ed\uff0c\u65e0\u5176\u4ed6\u75c7\u72b6\uff0c\u81f3\u8bca\u6240\u8bca\u7597\uff0c24\u65e5\u53d1\u70ed\u75c7\u72b6\u672a\u89c1\u51cf\u8f7b\uff0c\u81f3\u5546\u4e18\u5e02\u7b2c\u4e00\u4eba\u6c11\u533b\u9662\u8bca\u6cbb\uff0c\u540e\u8f6c\u8bca\u5546\u4e18\u5e02\u7acb\u533b\u9662\uff0c\u75c5\u60c5\u7a33\u5b9a\u3002\u5bc6\u5207\u63a5\u89e66\u4eba\uff0c\u5c45\u5bb6\u89c2\u5bdf\u3002","path":{"2020-01-14":[{"lat":30.625339,"lng":114.260847,"address":"\u6b66\u6c49","time":"2020-01-14 00:00:00"},{"lat":34.404408,"lng":115.709259,"address":"\u6cb3\u5357\u7701\u5546\u4e18\u5e02\u793a\u8303\u533a\u5e73\u5b89\u8857\u9053\u529e\u4e8b\u5904","time":"2020-01-14 12:00:00"}],"2020-01-20":[{"lat":34.404408,"lng":115.709259,"address":"\u6cb3\u5357\u7701\u5546\u4e18\u5e02\u793a\u8303\u533a\u5e73\u5b89\u8857\u9053\u529e\u4e8b\u5904","time":"2020-01-20 12:00:00"}],"2020-01-24":[{"lat":34.401698,"lng":115.630326,"address":"\u5546\u4e18\u5e02\u7b2c\u4e00\u4eba\u6c11\u533b\u9662","time":"2020-01-24 00:00:00"},{"lat":34.355711,"lng":115.671423,"address":"\u5546\u4e18\u5e02\u7acb\u533b\u9662","time":"2020-01-24 12:00:00"}]}},{"id":"","name":"\u7126XX","age":36,"sex":1,"address":"\u6cb3\u5357\u7701\u5546\u4e18\u5e02\u590f\u9091\u53bf\u7f57\u5e84\u9547","myParentNCP":"","reportTime":"2020-01-27","info":"\u7126XX\uff0c\u7537\uff0c36\u5c81\uff0c\u5bb6\u4f4f\u590f\u9091\u53bf\u7f57\u5e84\u9547\u3002\u81ea\u8ff0\u4e8e1\u670811\u65e5\u4ece\u5e7f\u5dde\u8fd4\u7a0b\uff0c\u9014\u4e2d\u5728\u6b66\u6c49\u8f6c\u4e58\uff0c12\u65e5\u62b5\u5546\uff0c\u60a3\u8005\u4e8e20\u65e5\u65e0\u660e\u663e\u8bf1\u56e0\u51fa\u73b0\u53d1\u70ed\uff0c\u81ea\u884c\u9a7e\u8f66\u53bb\u590f\u9091\u53bf\u4eba\u6c11\u533b\u9662\u5c31\u8bca\uff1b\u4e8e22\u65e5\u81ea\u9a7e\u8d76\u8d74\u5546\u4e18\u5e02\u7acb\u533b\u9662\u5c31\u8bca\uff0c\u4ee5\u65b0\u578b\u51a0\u72b6\u75c5\u6bd2\u611f\u67d3\u80ba\u708e\u7591\u4f3c\u75c5\u4f8b\u6536\u4f4f\u5165\u9662\uff0c\u60a3\u8005\u76ee\u524d\u75c5\u60c5\u7a33\u5b9a\u3002\u8d70\u8bbf\u5c0f\u533a\u7269\u4e1a\u6838\u5b9e\u60a3\u8005\u672a\u4e0e\u5c0f\u533a\u5176\u4ed6\u5c45\u6c11\u6709\u63a5\u89e6\u53f2\u3002","path":{"2020-01-11":[{"lat":30.625339,"lng":114.260847,"address":"\u6b66\u6c49","time":"2020-01-11 00:00:00"}],"2020-01-12":[{"lat":34.109374,"lng":115.999488,"address":"\u6cb3\u5357\u7701\u5546\u4e18\u5e02\u590f\u9091\u53bf\u7f57\u5e84\u9547","time":"2020-01-12 12:00:00"}],"2020-01-20":[{"lat":34.246024,"lng":116.150112,"address":"\u590f\u9091\u53bf\u4eba\u6c11\u533b\u9662","time":"2020-01-20 00:00:00"}],"2020-01-22":[{"lat":34.355711,"lng":115.671423,"address":"\u5546\u4e18\u5e02\u7acb\u533b\u9662","time":"2020-01-22 00:00:00"}]}}]')},93:function(e,t,a){e.exports=a(228)}},[[93,1,2]]]);
//# sourceMappingURL=main.840307b9.chunk.js.map